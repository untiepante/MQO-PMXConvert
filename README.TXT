MqPmxConvert .20160504
saso

1.概要
.mqo&.mqx形式と.pmx形式のモデルデータを相互変換するためのプログラムです。
プラグイン形式ではなくプログラム単体で動作し、Metasequoia4標準のボーン情報にも対応しています。


2.機能
・.mqoから.pmxへの変換
① プログラムを開きます
② 変換したい.mqoファイルを選択します
③ 変換してできる.pmxファイルの名前を指定します。標準では元の名前の後ろに「.cnv.pmx」を付与した名前になっています
④ 変換が実施されコンソールウィンドウに「正常終了」と表示されます
※曲面やIK、一部材質等の情報は変換されません

・.pmxから.mqoへの変換
① プログラムを開きます
② 変換したい.pmxファイルを選択します
③ 変換してできる.mqo・.mqxファイルの名前を指定します。標準では元の名前の後ろに「.cnv.mqo」を付与した名前になっています
④ 変換が実施されコンソールウィンドウに「正常終了」と表示されます
※物理やモーフ、一部材質等の情報は変換されません

※本プログラムに変換したいファイルをドラッグアンドドロップすることによっても変換することができます
※また、コマンドライン引数を入力ファイルパス、出力ファイルパスの順で与えることによっても変換することができます


3.よくありそうな質問

・材質の色がおかしくなった
mqo、pmx形式では材質の色の設定項目が異なるため変換の際に忠実に変換することができません。
もう一回設定しなおしてください。

・mqo->pmx変換が終わらない
mqo形式はテキストベースのデータ構造を持っているので読み込みに時間がかかることがあります。
辛抱強く待ってね。

・mqo->pmx変換中にエラーが発生した
本プログラムは三角面・四角面の読み込みしか対応していないので、五角形以上の多面体をもつmqoファイルでは読み込み時にエラーが発生するかもしれません。
とりあえずすべての面を三角形に変換してみるとうまくいくかもしれません。

・mqo->pmx変換後テクスチャがうまく読み込めない
mqoファイルの材質の設定によっては変換後にテクスチャ名の末尾に関係のない文字が追加されてしまうことがあります。
もう一回設定しなおしてください。

・pmx->mqo変換後にボーン情報が消えてしまった
変換時に.mqoファイルと同時に生成される.mqxファイルにボーン情報が書き込まれています。
このボーン情報はMetasequoia4標準のボーン機能向けなので、以前のバージョンのMetasequoiaでは開けないかもしれません。
また、.mqo・.mqxファイル共にお互いのファイル名を記録しあっているのでどちらかのファイル名を変えてしまうと読み込めないこともあるかもしれません。

・MMDやMetasequoiaで開けない、何かがおかしい
mqo->pmx変換では法線を計算しますがうまくいかない場合があるかもしれないので、読み込み後は法線の再計算を行って下さい。
変換してできたpmxファイルがMMDで開けない場合は、一度PMXEditor等で保存しなおしてください。
PMXEditorでモデルが表示されているのにモデル名や頂点情報などがおかしい場合は「編集→リストの表示更新」を行なってください。


4.連絡先
不具合や新機能追加について何かあればご連絡ください。（対応できるかは作者の都合によりわかりませんが）
その際にはエラーが発生した画面のスクリーンショットやメッセージ、問題が起きるモデルデータ、手順をお知らせいただけるとありがたいです。
ニコニココミュニティー掲示板: http://com.nicovideo.jp/community/co2547064
新バージョンの配布等もそちらで行う予定です。


5.謝辞
本プログラム作成にあたっては以下の方のコードを利用させていただいております。この場を借りてお礼申し上げます。
b2ox様作成 MQOplugin (https://github.com/b2ox/MQOplugin)
ぱるた様作成 tso2mqo (https://osdn.jp/projects/tdcgexplorer/)
Alexandre Mutel様 SharpDX (http://sharpdx.org/)


6.その他
本プログラムはフリーウェアです。完全に無保証で提供されるものでありこれを使用したことにより発生した、または発生させた、あるいは発生させられたなどしたいかなる問題に関して製作者は一切の責任を負いません。
別途ライセンスが明記されている場所またはファイルを除き、個人・商用利用にかかわらず使用者は本プログラムを自らの責任において自由に複製、改変することが可能です。
また本プログラムのソースコードはgithub上に公開しますので、そこからコードを確認することもできます。
https://github.com/untiepante/MqpmxConvert


7.更新履歴

・20160504
初期リリース